<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Login con varios usuarios</title>
</head>
<body>

  <h2>Login</h2>
  <form id="loginForm">
    <label for="user">Usuario:</label><br />
    <input type="text" id="user" required /><br /><br />

    <label for="password">Contraseña:</label><br />
    <input type="password" id="password" required /><br /><br />

    <button type="submit">Ingresar</button>
  </form>

  <p id="msg" style="color:red;"></p>

  <script src="https://cdn.jsdelivr.net/npm/js-sha256@0.9.0/build/sha256.min.js"></script>
  <script>
    // Listado de usuarios y sus contraseñas hasheadas (SHA-256)
    const usuarios = {
      "miguel": "ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f",   // 12345678
      "juan"  : "8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92",   // 123456
      "gera"  : "a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3",   // 123
    };

    const form = document.getElementById("loginForm");
    const msg = document.getElementById("msg");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const user = document.getElementById("user").value.trim();
      const pass = document.getElementById("password").value;
      const passIngresadoHash = sha256(pass);

      if (usuarios[user] && usuarios[user] === passIngresadoHash) {
        // Login exitoso, redirigir o mostrar mensaje
        window.location.href = "https://sites.google.com/view/intranetkaby/inicio?authuser=0";
      } else {
        msg.textContent = "Usuario o contraseña incorrectos";
      }
    });
  </script>

</body>
</html>
